var e = document.querySelectorAll(".products-list-item"); var i = document.querySelector(".header-bookmarks"); var a = i.querySelector(".bookmarks-count"); for (var o = 0; o < e.length; o++) { var r = e[o]; var c = r.querySelector(".bookmark"); c.addEventListener("click", function (e) { e.preventDefault(); i.classList.add("header-bookmarks-bg"); a.textContent++ }) } var s = document.querySelector(".basket"); var d = s.querySelector(".basket-count"); var l = document.querySelector(".modal-cart-added"); var n = l.querySelector(".continue-shopping"); var t = l.querySelector(".modal-close"); for (var o = 0; o < e.length; o++) { var r = e[o]; var v = r.querySelector(".buy"); v.addEventListener("click", function (e) { e.preventDefault(); l.classList.add("modal-show"); s.classList.add("basket-bg"); d.textContent++ }) } n.addEventListener("click", function (e) { e.preventDefault(); l.classList.remove("modal-show") }); t.addEventListener("click", function (e) { e.preventDefault(); l.classList.remove("modal-show") }); var m = document.querySelector(".modal-open"); var u = document.querySelector(".modal-feedback"); var k = u.querySelector(".modal-close"); var f = u.querySelector("form"); var h = u.querySelector("[name=name]"); var b = u.querySelector("[name=email]"); var p = u.querySelector("textarea"); var w = true; var g = ""; var S = ""; try { g = localStorage.getItem("username"); S = localStorage.getItem("email") } catch (e) { isStorageSupport = false } m.addEventListener("click", function (e) { e.preventDefault(); u.classList.add("modal-show"); h.focus(); if (g) { h.value = g; b.focus() } else if (S) { b.value = S; p.focus() } else { h.focus } }); k.addEventListener("click", function (e) { e.preventDefault(); u.classList.remove("modal-show", "modal-error") }); f.addEventListener("submit", function (e) { if (!h.value || !b.value || !p.value) { e.preventDefault(); console.log("Нужно ввести имя, почту и текст письма."); u.classList.add("modal-error") } else { if (isStorageSupport) { localStorage.setItem("username", h.value) } } }); var y = document.querySelector(".map-service_link"); var x = document.querySelector(".modal-map-big"); var _ = x.querySelector(".modal-close"); y.addEventListener("click", function (e) { e.preventDefault(); x.classList.add("modal-show") }); _.addEventListener("click", function (e) { e.preventDefault(); x.classList.remove("modal-show") }); window.addEventListener("keydown", function (e) { if (e.i === 27) { if (u.classList.contains("modal-show")) { e.preventDefault(); u.o.remove("modal-show") } } }); var j = document.querySelector(".slider"); var q = j.querySelector(".slide1"); var z = j.querySelector(".slide2"); var A = j.querySelector("#slide-item-1"); var B = j.querySelector("#slide-item-2"); q.addEventListener("click", function (e) { B.classList.remove("slide-item-hide"); A.classList.add("slide-item-hide") }); z.addEventListener("click", function (e) { A.classList.remove("slide-item-hide"); B.classList.add("slide-item-hide") }); var C = document.querySelector(".services-slider"); var D = C.querySelector(".input-delivery"); var E = C.querySelector(".input-assurance"); var F = C.querySelector(".input-credit"); var G = C.querySelector(".delivery-content"); var H = C.querySelector(".assurance-content"); var I = C.querySelector(".credit-content"); D.addEventListener("click", function (e) { G.classList.remove("services-slide-hide"); H.classList.add("services-slide-hide"); I.classList.add("services-slide-hide") }); E.addEventListener("click", function (e) { H.classList.remove("services-slide-hide"); G.classList.add("services-slide-hide"); I.classList.add("services-slide-hide") }); F.addEventListener("click", function (e) { I.classList.remove("services-slide-hide"); H.classList.add("services-slide-hide"); G.classList.add("services-slide-hide") });
